(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{71:function(t,e,o){"use strict";o.r(e);var s=o(2),n={name:"AddNetworkComponent",props:["ni"],data:function(){return{submit:!1,form_fields:{network_name:"",network_id:0,status:1,tokens:[{token_name:"",token:""}]}}},methods:{save:function(){var t=this;this.submit=!0,this.validateNetworkName||(this.form_fields.network_id=null==this.ni?0:this.ni,s.a.post("networks/store",this.form_fields).then((function(t){if(!t.data.status)throw t.data;location.reload()})).catch((function(e){t.$vs.notify({title:"Error",text:e.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})})))},AddToken:function(){this.form_fields.tokens.push({token_name:"",token:""})},removeToken:function(t){this.form_fields.tokens.splice(t,1)},destroyNi:function(){this.$emit("destroyNi")},getNetwork:function(){var t=this;this.$vs.loading(),s.a.get("networks/get/"+this.ni).then((function(e){if(!e.data.status)throw e.data;t.form_fields.network_name=e.data.network_name,t.form_fields.tokens=e.data.network_tokens,t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))}},computed:{validateNetworkName:function(){return""===this.form_fields.network_name}},beforeMount:function(){null!==this.ni&&this.getNetwork()},destroyed:function(){this.destroyNi()}},a=o(1),i=Object(a.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("vs-row",{attrs:{"vs-w":"12"}},[o("vs-col",[o("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Network Name"},model:{value:t.form_fields.network_name,callback:function(e){t.$set(t.form_fields,"network_name",e)},expression:"form_fields.network_name"}}),t._v(" "),t.submit&&t.validateNetworkName?o("span",{staticClass:"error"},[t._v("Network name is required!")]):t._e()],1)],1),t._v(" "),t._l(t.form_fields.tokens,(function(e,s){return o("vs-row",{staticClass:"mb-3 mt-3",attrs:{"vs-w":"12"}},[o("vs-col",{attrs:{"vs-w":"4"}},[o("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Token Name"},model:{value:e.token_name,callback:function(o){t.$set(e,"token_name",o)},expression:"item.token_name"}})],1),t._v(" "),o("vs-col",{staticClass:"mr-3 ml-3",attrs:{"vs-w":"4"}},[o("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Token"},model:{value:e.token,callback:function(o){t.$set(e,"token",o)},expression:"item.token"}})],1),t._v(" "),o("vs-col",{attrs:{"vs-w":"2"}},[o("vs-button",{staticClass:"mt-5",attrs:{"icon-pack":"feather",icon:"icon-minus-square",type:"border",color:"dark",disabled:t.form_fields.tokens.length<=1},on:{click:function(e){return t.removeToken(s)}}})],1)],1)})),t._v(" "),o("vs-row",{attrs:{"vs-w":"12"}},[o("vs-col",[o("vs-button",{attrs:{size:"small",color:"dark",type:"border"},on:{click:t.AddToken}},[t._v("+ Add Token")])],1)],1),t._v(" "),o("vs-row",{staticClass:"mt-5",attrs:{"vs-w":"12"}},[o("vs-col",[o("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.save}},[t._v("Save")])],1)],1)],2)}),[],!1,null,"207a4cb0",null);e.default=i.exports}}]);