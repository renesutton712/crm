(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{242:function(t,e,s){"use strict";s.r(e);var l=s(2),a=s(8),i={components:{"v-select":s.n(a).a},name:"AddNewPixel",data:function(){return{submit:!1,campaigns_list:[],form_fields:{pixel_name:"",campaign_id:"",pixel_url:[{url:"",type:1}]}}},methods:{getCampaigns:function(){var t=this;this.$vs.loading(),l.a.get("campaigns/get").then((function(e){if("status"in e.data)throw e.data;t.campaigns_list=e.data,t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},save:function(){var t=this;this.submit=!0,this.validatePixelName||(this.$vs.loading(),l.a.post("pixels/store",this.form_fields).then((function(t){if(!t.data.status)throw t.data;location.reload()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})})))},removePixelUrl:function(t){this.form_fields.pixel_url.splice(t,1)},addPixelUrl:function(){this.form_fields.pixel_url.push({url:"",type:2})}},computed:{validatePixelName:function(){return""===this.form_fields.pixel_name}},beforeMount:function(){}},o=s(1),n={name:"IndexComponent",components:{AddNewPixel:Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Postback Name"},model:{value:t.form_fields.pixel_name,callback:function(e){t.$set(t.form_fields,"pixel_name",e)},expression:"form_fields.pixel_name"}}),t._v(" "),t.submit&&t.validatePixelName?s("span",{staticClass:"error"},[t._v("Postback name is required!")]):t._e()],1)],1),t._v(" "),t._l(t.form_fields.pixel_url,(function(e,l){return s("vs-row",{staticClass:"mb-3 mt-3",attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"4"}},[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"URL"},model:{value:e.url,callback:function(s){t.$set(e,"url",s)},expression:"item.url"}})],1),t._v(" "),s("vs-col",{staticClass:"mr-3 ml-3",attrs:{"vs-w":"4"}},[s("vs-select",{staticClass:"w-full",attrs:{label:"Type"},model:{value:e.type,callback:function(s){t.$set(e,"type",s)},expression:"item.type"}},[s("vs-select-item",{staticClass:"w-full",attrs:{value:1,text:"Lead"}}),t._v(" "),s("vs-select-item",{staticClass:"w-full",attrs:{value:2,text:"FTD"}})],1)],1),t._v(" "),s("vs-col",{attrs:{"vs-w":"2"}},[s("vs-button",{staticClass:"mt-5",attrs:{"icon-pack":"feather",icon:"icon-minus-square",type:"border",color:"dark",disabled:t.form_fields.pixel_url.length<=1},on:{click:function(e){return t.removePixelUrl(l)}}})],1)],1)})),t._v(" "),s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",[s("vs-button",{attrs:{size:"small",color:"dark",type:"border",disabled:2===t.form_fields.pixel_url.length},on:{click:t.addPixelUrl}},[t._v("+ Add Url\n            ")])],1)],1),t._v(" "),s("vs-row",{staticClass:"mt-5",attrs:{"vs-w":"12"}},[s("vs-col",[s("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.save}},[t._v("Save")])],1)],1)],2)}),[],!1,null,"6c5824d6",null).exports},data:function(){return{isModalVisible:!1,selected_pixels:[],pixels_list:[]}},methods:{showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},getPixels:function(){var t=this;this.$vs.loading(),l.a.get("pixels/get").then((function(e){t.pixels_list=e.data,t.$vs.loading.close()})).catch((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:e.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))}},beforeMount:function(){this.getPixels()}},r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between","vs-align":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"6","vs-type":"flex","vs-justify":"flex-start","vs-align":"center"}},[s("div",[s("h3",[t._v("Pixels")])])]),t._v(" "),s("vs-col",{attrs:{"vs-w":"6","vs-type":"flex","vs-justify":"flex-end","vs-align":"center"}},[s("vs-button",{attrs:{type:"filled",color:"primary"},on:{click:t.showModal}},[t._v("Add Postback")])],1)],1),t._v(" "),s("vs-row",[s("vs-col",[s("vs-table",{attrs:{search:"",data:t.pixels_list,multiple:""},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.data;return t._l(l,(function(e,a){return s("vs-tr",{key:a,attrs:{data:e}},[s("vs-td",{attrs:{data:l[a].id}},[t._v(t._s(l[a].id))]),t._v(" "),s("vs-td",{attrs:{data:l[a].name}},[t._v(t._s(l[a].pixel_name))]),t._v(" "),s("vs-td",{attrs:{data:l[a].pixel_group[[0]].url}},[t._v(t._s(l[a].pixel_group[[0]].url)+"\n                        ")]),t._v(" "),void 0!==l[a].pixel_group[[1]]?s("vs-td",{attrs:{data:l[a].pixel_group[[1]].url}},[t._v(t._s(l[a].pixel_group[[1]].url)+"\n                        ")]):s("vs-td",[t._v("None")])],1)}))}}]),model:{value:t.selected_pixels,callback:function(e){t.selected_pixels=e},expression:"selected_pixels"}},[s("template",{slot:"header"}),t._v(" "),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"unique_id"}},[t._v("ID")]),t._v(" "),s("vs-th",{attrs:{"sort-key":"unique_id"}},[t._v("Pixel Name")]),t._v(" "),s("vs-th",{attrs:{"sort-key":"event"}},[t._v("Lead URL")]),t._v(" "),s("vs-th",{attrs:{"sort-key":"event"}},[t._v("FTD URL")])],1)],2)],1)],1),t._v(" "),t.isModalVisible?s("modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[s("p",[t._v("Add Postback")])]},proxy:!0},{key:"body",fn:function(){return[s("add-new-pixel")]},proxy:!0}],null,!1,3494563411)}):t._e()],1)}),[],!1,null,"75903399",null);e.default=r.exports}}]);