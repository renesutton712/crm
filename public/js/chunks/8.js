(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{165:function(t,a,s){"use strict";var e=s(41);s.n(e).a},166:function(t,a,s){(t.exports=s(6)(!1)).push([t.i,".info[data-v-7925c8a0]{color:#ff9f43;font-weight:600}",""])},234:function(t,a,s){"use strict";s.r(a);var e=s(2),i=s(11),o=s.n(i),n={name:"AddCampaignComponent",props:["ci"],components:{"v-select":o.a},data:function(){return{submit:!1,form_fields:{campaign_name:"",offer_id:"",rotator_id:"",platform:"",ci:null},offers_list:[],rotators_list:[],platform_list:[{id:1,platform_name:"Facebook"},{id:2,platform_name:"Google"},{id:3,platform_name:"Pinterest"}]}},methods:{save:function(){var t=this;if(this.submit=!0,this.validateCampaignName)return!1;this.$vs.loading(),this.form_fields.ci=null==this.ci?0:this.ci,e.a.post("campaigns/store",this.form_fields).then((function(t){if(!t.data)throw t.data;location.reload()})).catch((function(a){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:a.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},getOffers:function(){var t=this;e.a.get("offers/get").then((function(a){if("status"in a.data)throw a.data;t.offers_list=a.data})).catch((function(a){t.$vs.notify({title:"Error",text:a.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},getRotators:function(){var t=this;e.a.get("rotators/get").then((function(a){if("status"in a.data)throw a.data;t.rotators_list=a.data})).catch((function(a){t.$vs.notify({title:"Error",text:a.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},getCampaign:function(){var t=this;this.$vs.loading(),e.a.get("campaigns/get/"+this.ci).then((function(a){t.form_fields.campaign_name=a.data[0].campaign_name,t.form_fields.offer_id=a.data[0].offer_id,t.form_fields.rotator_id=a.data[0].rotator_id,t.form_fields.platform=Number(a.data[0].platform),t.$vs.loading.close()})).catch((function(a){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:a.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},destroyCI:function(){this.$emit("destroyci")}},computed:{validateCampaignName:function(){return""===this.form_fields.campaign_name}},beforeMount:function(){this.getOffers(),this.getRotators(),null!==this.ci&&this.getCampaign()},destroyed:function(){this.destroyCI()}},r=(s(165),s(1)),c={name:"IndexComponent",components:{AddCampaignComponent:Object(r.a)(n,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Campaign Name"},model:{value:t.form_fields.campaign_name,callback:function(a){t.$set(t.form_fields,"campaign_name",a)},expression:"form_fields.campaign_name"}}),t._v(" "),t.submit&&t.validateCampaignName?s("span",{staticClass:"error"},[t._v("Campaign name is required!")]):t._e()],1)],1),t._v(" "),s("vs-row",{staticClass:"mt-3",attrs:{"vs-w":"12"}},[s("vs-col",[s("label",{attrs:{for:"Offer"}},[t._v("Select Offer(optional):")]),t._v(" "),s("v-select",{attrs:{label:"offer_name",id:"Offer",options:t.offers_list,reduce:function(t){return t.offer_id}},model:{value:t.form_fields.offer_id,callback:function(a){t.$set(t.form_fields,"offer_id",a)},expression:"form_fields.offer_id"}}),t._v(" "),s("span",{staticClass:"info"},[t._v("Select offer associated with the campaign")])],1)],1),t._v(" "),s("vs-row",{staticClass:"mt-3 mb-3",attrs:{"vs-w":"12"}},[s("vs-col",[s("label",{attrs:{for:"Rotator"}},[t._v("Select Rotator(optional):")]),t._v(" "),s("v-select",{attrs:{label:"rotator_name",id:"Rotator",options:t.rotators_list,reduce:function(t){return t.id}},model:{value:t.form_fields.rotator_id,callback:function(a){t.$set(t.form_fields,"rotator_id",a)},expression:"form_fields.rotator_id"}}),t._v(" "),s("span",{staticClass:"info"},[t._v("Select network associated with the campaign")])],1)],1),t._v(" "),s("vs-row",{staticClass:"mt-3 mb-3",attrs:{"vs-w":"12"}},[s("vs-col",[s("label",{attrs:{for:"Platform"}},[t._v("Select Platform(optional):")]),t._v(" "),s("v-select",{attrs:{label:"platform_name",id:"Platform",options:t.platform_list,reduce:function(t){return t.id}},model:{value:t.form_fields.platform,callback:function(a){t.$set(t.form_fields,"platform",a)},expression:"form_fields.platform"}}),t._v(" "),s("span",{staticClass:"info"},[t._v("Select platform associated with the campaign")])],1)],1),t._v(" "),s("vs-row",{staticClass:"mt-5",attrs:{"vs-w":"12"}},[s("vs-col",[s("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.save}},[t._v("Save")])],1)],1)],1)}),[],!1,null,"7925c8a0",null).exports,"v-select":o.a},data:function(){return{selected_campaigns:[],isModalVisible:!1,campaigns_list:[],campaign_id:null,actions_list:[{id:0,text:"Delete"},{id:1,text:"Pause"},{id:2,text:"Active"}],selected_action:0}},methods:{showModal:function(){this.isModalVisible=!0},closeModal:function(){this.isModalVisible=!1},getCampaigns:function(){var t=this;this.$vs.loading(),e.a.get("campaigns/get").then((function(a){if("status"in a.data)throw a.data;t.campaigns_list=a.data,t.$vs.loading.close()})).catch((function(a){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:a.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},editCampaign:function(t){this.campaign_id=t,this.showModal()},destroyci:function(){this.campaign_id=null},sendAction:function(){var t=this,a=1===this.selected_action?"pause":"delete";this.selected_campaigns.length<=0||!confirm("Are you sure you want to "+a+" campaigns")||(this.$vs.loading(),e.a.post("campaigns/alter",{status:this.selected_action,campaigns:this.selected_campaigns}).then((function(t){if(!t.data.status)throw t.data;location.reload()})).catch((function(a){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:a.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})})))}},beforeMount:function(){this.getCampaigns()}},l=Object(r.a)(c,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("vs-card",[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between","vs-align":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"6","vs-type":"flex","vs-justify":"flex-start","vs-align":"center"}},[s("div",[s("h3",[t._v("Campaigns")])])]),t._v(" "),s("vs-col",{attrs:{"vs-w":"6","vs-type":"flex","vs-justify":"flex-end","vs-align":"center"}},[s("vs-button",{attrs:{type:"filled",color:"primary"},on:{click:t.showModal}},[t._v("Add Campaign")])],1)],1),t._v(" "),s("vs-divider"),t._v(" "),s("vs-row",{staticClass:"mt-4 mb-4",attrs:{"vs-type":"flex","vs-justify":"flex-start","vs-align":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"2"}},[s("label",{attrs:{for:"Actions"}},[t._v("Actions:")]),t._v(" "),s("v-select",{attrs:{disabled:t.selected_campaigns.length<=0,label:"text",id:"Actions",options:t.actions_list,reduce:function(t){return t.id}},model:{value:t.selected_action,callback:function(a){t.selected_action=a},expression:"selected_action"}})],1),t._v(" "),s("vs-col",{staticClass:"mt-2 ml-5",attrs:{"vs-w":"2"}},[s("vs-button",{attrs:{disabled:t.selected_campaigns.length<=0,color:"success",type:"border"},on:{click:t.sendAction}},[t._v("Go\n            ")])],1)],1),t._v(" "),s("vs-row",[s("vs-col",[s("vs-table",{attrs:{search:"",data:t.campaigns_list,multiple:""},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.data;return t._l(e,(function(a,i){return s("vs-tr",{key:i,attrs:{data:a}},[s("vs-td",{attrs:{data:e[i].id}},[t._v(t._s(e[i].id))]),t._v(" "),s("vs-td",{attrs:{data:e[i].campaign_name}},[t._v(t._s(e[i].campaign_name))]),t._v(" "),s("vs-td",{attrs:{data:e[i].rotator_name}},[t._v(t._s(e[i].rotator_name))]),t._v(" "),s("vs-td",{attrs:{data:e[i].offer_name}},[t._v(t._s(e[i].offer_name))]),t._v(" "),s("vs-td",{attrs:{data:e[i].platform}},[t._v(t._s(e[i].platform))]),t._v(" "),s("vs-td",[t._v(t._s("&ci="+e[i].id+"&ri="+e[i].rotator_id+"&oi="+e[i].offer_id)+"\n                        ")]),t._v(" "),2===e[i].status?s("vs-td",{attrs:{data:e[i].status}},[t._v("Active")]):s("vs-td",{attrs:{data:e[i].status}},[t._v("Paused")]),t._v(" "),s("vs-td",[s("vs-button",{attrs:{color:"success",size:"small"},on:{click:function(a){return t.editCampaign(e[i].id)}}},[t._v("Edit\n                            ")])],1)],1)}))}}]),model:{value:t.selected_campaigns,callback:function(a){t.selected_campaigns=a},expression:"selected_campaigns"}},[s("template",{slot:"header"}),t._v(" "),s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"id"}},[t._v("CI")]),t._v(" "),s("vs-th",{attrs:{"sort-key":"campaign_name"}},[t._v("Campaign Name")]),t._v(" "),s("vs-th",{attrs:{"sort-key":"network_name"}},[t._v("Network Name")]),t._v(" "),s("vs-th",{attrs:{sort_key:"offer_name"}},[t._v("Offer Name")]),t._v(" "),s("vs-th",{attrs:{sort_key:"platform"}},[t._v("Platform")]),t._v(" "),s("vs-th",[t._v("URL parameters")]),t._v(" "),s("vs-th",{attrs:{sort_key:"status"}},[t._v("Status")]),t._v(" "),s("vs-th",[t._v("Actions")])],1)],2)],1)],1),t._v(" "),t.isModalVisible?s("modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[s("p",[t._v("Add Campaign")])]},proxy:!0},{key:"body",fn:function(){return[s("add-campaign-component",{attrs:{ci:t.campaign_id},on:{destroyci:t.destroyci}})]},proxy:!0}],null,!1,3583378586)}):t._e()],1)}),[],!1,null,"29902a09",null);a.default=l.exports},41:function(t,a,s){var e=s(166);"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s(7)(e,i);e.locals&&(t.exports=e.locals)}}]);