(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{174:function(t,s,e){"use strict";var a=e(43);e.n(a).a},175:function(t,s,e){(t.exports=e(3)(!1)).push([t.i,"[dir] #FilterBtn[data-v-da081fb6]{padding:7px 20px}.con-vs-popup[data-v-da081fb6],.vs-popup--content[data-v-da081fb6]{height:100%}",""])},250:function(t,s,e){"use strict";e.r(s);var a=e(2),i=e(8),r=e.n(i),n=e(104),o=e.n(n),l=(e(172),{components:{"v-select":r.a,flatPickr:o.a},name:"IndexComponent",data:function(){return{configdateTimePicker:{enableTime:!0,dateFormat:"Y-m-d H:i"},activePopup:!1,leads_list:[],selected_leads:[],networks_list:[],campaigns_list:[],rotators_list:[],countries_list:[],networks_err_list:[],type_list:[{val:1,type:"Click"},{val:2,type:"Lead"},{val:3,type:"FTD"}],filters:{network_id:"",campaign_id:"",rotator_id:"",country_id:"",type:"",datetime:""},resend:{campaign:"",network:""}}},methods:{getLeads:function(){var t=this;this.$vs.loading(),a.a.post("leads/get",this.filters).then((function(s){if("status"in s.data)throw s.data;t.leads_list=s.data,t.$vs.loading.close()})).catch((function(s){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:s.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},urlParamsObj:function(t){return JSON.parse(t)},getNetworks:function(){var t=this;a.a.get("networks/get").then((function(s){if("status"in s.data)throw s.data;s.data.filter((function(s,e){t.networks_list.push({network_name:s.network_name+" ("+s.id+")",id:s.id})}))})).catch((function(s){t.$vs.notify({title:"Error",text:s.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},getCampaigns:function(){var t=this;this.$vs.loading(),a.a.get("campaigns/get").then((function(s){if("status"in s.data)throw s.data;s.data.filter((function(s,e){t.campaigns_list.push({campaign_name:s.campaign_name+" ("+s.id+")",id:s.id})})),t.$vs.loading.close()})).catch((function(s){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:s.msg,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},getRotators:function(){var t=this;this.$vs.loading(),a.a.get("rotators/get").then((function(s){if(s.data.filter((function(s,e){t.rotators_list.push({rotator_name:s.rotator_name+" ("+s.id+")",id:s.id})})),0===t.rotators_list.length)throw"No rotators found";t.$vs.loading.close()})).catch((function(s){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:s,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},getCountries:function(){var t=this;this.$vs.loading(),a.a.get("countries/get").then((function(s){if(t.countries_list=s.data,0===t.countries_list.length)throw"No rotators found";t.$vs.loading.close()})).catch((function(s){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:s,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))},cutString:function(t){return null===t?"":t.length<80?t:t.substring(0,80)+"..."},sendLeads:function(){var t=this;this.$vs.loading(),a.a.post("leads/resend",this.resend).then((function(s){if(!s.data.status)throw s.data.msg;t.$vs.notify({title:"Success",text:s.data.msg,iconPack:"feather",icon:"icon-smile",color:"success"}),t.$vs.loading.close()})).then((function(){t.activePopup=!1})).catch((function(s){t.$vs.loading.close(),t.$vs.notify({title:"Error",text:s,iconPack:"feather",icon:"icon-alert-circle",color:"warning"})}))}},watch:{filters:{handler:function(t){this.filters=t,this.getLeads()},deep:!0}},beforeMount:function(){this.getLeads(),this.getNetworks(),this.getCampaigns(),this.getRotators(),this.getCountries()}}),c=(e(174),e(1)),v=Object(c.a)(l,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("vs-card",[e("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between","vs-align":"center","vs-w":"12"}},[e("vs-col",{attrs:{"vs-w":"6","vs-type":"flex","vs-justify":"flex-start","vs-align":"center"}},[e("div",[e("h3",[t._v("Leads")])])]),t._v(" "),e("vs-col",{attrs:{"vs-w":"6","vs-type":"flex","vs-justify":"flex-end","vs-align":"center"}},[e("vs-button",{attrs:{color:"primary",type:"border"},on:{click:function(s){t.activePopup=!0}}},[t._v("Resend leads")])],1)],1),t._v(" "),e("vs-divider"),t._v(" "),e("vs-row",{staticClass:"mt-5",attrs:{"vs-type":"flex","vs-justify":"space-evenly","vs-align":"center","vs-w":"12"}},[e("vs-col",{attrs:{"vs-w":"2"}},[e("label",{attrs:{for:"Campaign"}},[t._v("Campaigns:")]),t._v(" "),e("v-select",{staticClass:"w-11/12",attrs:{label:"campaign_name",id:"Campaign",options:t.campaigns_list,reduce:function(t){return t.id}},model:{value:t.filters.campaign_id,callback:function(s){t.$set(t.filters,"campaign_id",s)},expression:"filters.campaign_id"}})],1),t._v(" "),e("vs-col",{attrs:{"vs-w":"2"}},[e("label",{attrs:{for:"Network"}},[t._v("Networks:")]),t._v(" "),e("v-select",{staticClass:"w-11/12",attrs:{label:"network_name",id:"Network",options:t.networks_list,reduce:function(t){return t.id}},model:{value:t.filters.network_id,callback:function(s){t.$set(t.filters,"network_id",s)},expression:"filters.network_id"}})],1),t._v(" "),e("vs-col",{attrs:{"vs-w":"2"}},[e("label",{attrs:{for:"Rotator"}},[t._v("Rotators:")]),t._v(" "),e("v-select",{staticClass:"w-11/12",attrs:{label:"rotator_name",id:"Rotator",options:t.rotators_list,reduce:function(t){return t.id}},model:{value:t.filters.rotator_id,callback:function(s){t.$set(t.filters,"rotator_id",s)},expression:"filters.rotator_id"}})],1),t._v(" "),e("vs-col",{attrs:{"vs-w":"2"}},[e("label",{attrs:{for:"Country"}},[t._v("Countries:")]),t._v(" "),e("v-select",{staticClass:"w-11/12",attrs:{label:"country_name",id:"Country",options:t.countries_list,reduce:function(t){return t.country_iso_code}},model:{value:t.filters.country_id,callback:function(s){t.$set(t.filters,"country_id",s)},expression:"filters.country_id"}})],1),t._v(" "),e("vs-col",{attrs:{"vs-w":"2"}},[e("label",{attrs:{for:"Type"}},[t._v("Lead Type:")]),t._v(" "),e("v-select",{staticClass:"w-11/12",attrs:{label:"type",id:"Type",options:t.type_list,reduce:function(t){return t.val}},model:{value:t.filters.type,callback:function(s){t.$set(t.filters,"type",s)},expression:"filters.type"}})],1),t._v(" "),e("vs-col",{attrs:{"vs-w":"2"}},[e("label",{staticClass:"block",attrs:{for:"Type"}},[t._v("Datetime:")]),t._v(" "),e("flat-pickr",{staticClass:"w-11/12",attrs:{config:t.configdateTimePicker,placeholder:"Date Time"},model:{value:t.filters.datetime,callback:function(s){t.$set(t.filters,"datetime",s)},expression:"filters.datetime"}})],1)],1),t._v(" "),e("vs-divider"),t._v(" "),e("vs-row",[e("vs-col",[e("vs-table",{attrs:{search:"",data:t.leads_list,"max-items":"25",pagination:""},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.data;return t._l(a,(function(s,i){return e("vs-tr",{key:i,attrs:{data:s}},[e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].unique_id}},[t._v(t._s(a[i].unique_id))]),t._v(" "),null!==a[i].campaign?e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].campaign_name}},[t._v("\n                            "+t._s(a[i].campaign_name)+"\n                        ")]):e("vs-td",{staticClass:"text-sm"},[t._v("Campaign not found!")]),t._v(" "),null!==a[i].rotator_name?e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].rotator_name}},[t._v("\n                            "+t._s(a[i].rotator_name)+"\n                        ")]):e("vs-td",{staticClass:"text-sm"},[t._v("Rotator not found")]),t._v(" "),null!==a[i].network_name?e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].network_name}},[t._v("\n                            "+t._s(a[i].network_name)+"\n                        ")]):e("vs-td",{staticClass:"text-sm"},[t._v("Network not found")]),t._v(" "),null!==a[i].offer_id?e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].offer_id}},[t._v("\n                            "+t._s(a[i].offer_id)+"\n                        ")]):e("vs-td",{staticClass:"text-sm"},[t._v("Offer not found")]),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].country}},[t._v(t._s(a[i].country))]),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].first_name}},[t._v(t._s(a[i].first_name))]),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].last_name}},[t._v(t._s(a[i].last_name))]),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].email}},[t._v(t._s(a[i].email))]),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].prefix}},[t._v(t._s(a[i].prefix))]),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].phone}},[t._v(t._s(a[i].phone))]),t._v(" "),3===a[i].status?e("vs-td",{staticClass:"font-bold text-success text-sm",attrs:{data:a[i].status}},[t._v("\n                            FTD\n                        ")]):e("vs-td",{staticClass:"text-sm",class:[1===a[i].status?"text-dark":"text-primary font-bold"],attrs:{data:a[i].status}},[t._v(t._s(1===a[i].status?"Click":"Lead")+"\n                        ")]),t._v(" "),e("vs-td",{staticClass:"text-sm text-danger",attrs:{data:a[i].network_response}},[e("vx-tooltip",{attrs:{title:"Full",color:"primary",text:a[i].network_response,position:"bottom"}},[t._v("\n                                "+t._s(t.cutString(a[i].network_response))+"\n                            ")])],1),t._v(" "),e("vs-td",{staticClass:"text-sm",attrs:{data:a[i].updated_at}},[t._v("\n                            "+t._s(a[i].updated_at)+"\n                        ")]),t._v(" "),e("template",{staticClass:"expand-user",slot:"expand"},[e("vs-list",t._l(t.urlParamsObj(a[i].url_params),(function(t,s){return e("vs-list-item",{attrs:{title:"",subtitle:s+" : "+t}})})),1),t._v(" "),e("vs-list",[e("vs-list-item",{attrs:{title:"UA",subtitle:a[i].ua}}),t._v(" "),e("vs-list-item",{attrs:{title:"IP",subtitle:a[i].ip}}),t._v(" "),e("vs-list-item",{attrs:{title:"Created",subtitle:a[i].created_at}}),t._v(" "),e("vs-list-item",{attrs:{title:"Updated",subtitle:a[i].updated_at}})],1)],1)],2)}))}}]),model:{value:t.selected_leads,callback:function(s){t.selected_leads=s},expression:"selected_leads"}},[e("template",{slot:"header"}),t._v(" "),e("template",{slot:"thead"},[e("vs-th",{attrs:{"sort-key":"unique_id"}},[t._v("ID")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"campaign_name"}},[t._v("Campaign")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"rotator_name"}},[t._v("Rotator")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"network_name"}},[t._v("Network")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"offer_id"}},[t._v("Offer")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"country"}},[t._v("Country")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"first_name"}},[t._v("First Name")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"last_name"}},[t._v("Last Name")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"email"}},[t._v("Email")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"prefix"}},[t._v("Prefix")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"phone"}},[t._v("Phone")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"status"}},[t._v("Type")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"network_response"}},[t._v("Network Response")]),t._v(" "),e("vs-th",{attrs:{"sort-key":"updated_at"}},[t._v("Created")])],1)],2)],1)],1),t._v(" "),e("vs-popup",{attrs:{title:"Send leads",active:t.activePopup},on:{"update:active":function(s){t.activePopup=s}}},[e("vs-row",[e("vs-col",[e("p",[t._v("Please select options from all of the filters below, in order the send leads:")])])],1),t._v(" "),e("vs-row",{staticClass:"mt-5"},[e("vs-col",[e("label",{attrs:{for:"LeadCampaign"}},[t._v("Select Campaigns:")]),t._v(" "),e("v-select",{staticClass:"w-full",attrs:{label:"campaign_name",id:"LeadCampaign",options:t.campaigns_list,reduce:function(t){return t.id}},model:{value:t.resend.campaign,callback:function(s){t.$set(t.resend,"campaign",s)},expression:"resend.campaign"}})],1)],1),t._v(" "),e("vs-row",{staticClass:"mt-5"},[e("vs-col",[e("label",{attrs:{for:"LeadNetwork"}},[t._v("Select Network:")]),t._v(" "),e("v-select",{staticClass:"w-full",attrs:{label:"network_name",id:"LeadNetwork",options:t.networks_list,reduce:function(t){return t.id}},model:{value:t.resend.network,callback:function(s){t.$set(t.resend,"network",s)},expression:"resend.network"}})],1)],1),t._v(" "),e("vs-row",{staticClass:"mt-5"},[e("vs-col",[e("vs-button",{attrs:{color:"primary",type:"border"},on:{click:t.sendLeads}},[t._v("Send")])],1)],1)],1)],1)}),[],!1,null,"da081fb6",null);s.default=v.exports},43:function(t,s,e){var a=e(175);"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e(5)(a,i);a.locals&&(t.exports=a.locals)}}]);